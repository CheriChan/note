# http

[TOC]

## http/1特点

+ 无状态，每次通信都是独立的，不会保存通信过程中的各类信息
+ 传输可靠，基于TCP/IP协议进行传输，三次握手和四次挥手，让信息传输更稳定
+ 请求-应答， 一请求一响应
+ 灵活可扩展，传输数据多样化，文本，图片，音频

## http/1缺点

+ http的无状态特点，根据场景的不同，也会变成http的优缺点
  + 在需要长连接的场景中，需要保存大量的上下文信息，以免传输大量重复的信息，那么这时候无状态就是 http 的缺点了。
  + 有的通信仅仅是为了获取一些数据，不需要保存连接上下文信息，无状态反而减少了网络开销，成为了 http 的优点。

       + 明文传输，http传输的报文不是二进制而是文本形式
       + 对头堵塞，当 http 开启长连接时，共用一个 TCP 连接，同一时刻只能处理一个请求，那么当前请求耗时过长的情况下，其它的请求只能处于阻塞状态，也就是著名的**队头阻塞**问题

### HTTP1.0和HTTP1.1的区别

+ 长连接：HTTP/1.1支持长连接和请求的流水线，在一个TCP连接上可以传送多个HTTP请求，避免了因为多次建立TCP连接的时间消耗和延时
+ **缓存处理**：HTTP/1.1引入`Entity tag，If-Unmodified-Since, If-Match, If-None-Match`等新的请求头来控制缓存
+ **带宽优化及网络连接的使用：** HTTP1.1则在请求头引入了range头域，支持断点续传功能
+ **Host头处理：** 在HTTP/1.0中认为每台服务器都有唯一的IP地址，但随着虚拟主机技术的发展，多个主机共享一个IP地址愈发普遍，HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会400错误

## HTTP/2.0新特性

+ **多路复用：** 即多个请求都通过一个TCP连接并发地完成

+ **服务端推送：** 服务端能够主动把资源推送给客户端

+ **新的二进制格式：** HTTP/2采用二进制格式传输数据，相比于HTTP/1.1的文本格式，二进制格式具有更好的解析性和拓展性

+ **header压缩：** HTTP/2压缩消息头，减少了传输数据的大小

## HTTP和HTTPS有何区别

+ HTTP默认80端口，HTTPS默认443端口
+ HTTPS需要申请证书
+ HTTP是超文本传输协议，是明文传输；HTTPS是经过SSL加密的协议，传输更安全
+ HTTPS比HTTP慢，因为HTTPS除了TCP握手的三个包，还要加上SSL握手的九个包